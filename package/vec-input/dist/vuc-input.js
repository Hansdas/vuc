!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=1)}([function(t,e,n){"use strict";var i=n(9),r=n.n(i);e.a={name:"vucInput",data:function(){return{input:{},fontStyle:{},fontSize:0,letterSpacing:0,paddingLeft:0,particle:[],clientWidth:0,img:r.a,textWidth:0}},props:{className:{type:String,default:""},value:{type:[String,Number],default:""},autofocus:{type:Boolean,default:!1},helpText:{type:String,default:""},disabled:{type:Boolean,default:!1},H:{type:Number,default:55},W:{type:Number,default:300},padding:{type:Number,default:10},num:{type:Number,default:10},size:{type:Number,default:10},type:{type:String,default:"rect"},styleType:{type:String,default:"fill"},drawImg:{type:Array,default:function(){return[]}},color:{type:Array,default:function(){return["black"]}},inputStyle:{type:String,default:"\n        font-size: 14px;\n        letter-spacing: 1px;\n        border: 2px  solid #EFEFF4;\n      "}},computed:{paddingH:function(){return this.H-2*this.padding},paddingW:function(){return this.W-2*this.padding}},mounted:function(){this.autofocus&&this._focus(),this._initData()},watch:{value:function(t,e){var n=this.input.selectionStart,i=this.value.slice(0,n),r=i.replace(/\s/gi,"&nbsp;");this._getWidth(r),e!==t&&this._setAnimationLocation(!(e.length>t.length),e)}},methods:{_moveEnd:function(t){var e=t.value.length;if(document.selection){var n=t.createTextRange();n.moveStart("character",e),n.collapse(),n.select()}else"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd&&(t.selectionStart=t.selectionEnd=e)},_checkFocus:function(){var t=this;console.log("1"),setTimeout(function(){return t.$refs.input.focus()}),this._moveEnd(this.$refs.input)},_setAnimationLocation:function(t,e){var n=Number(this.padding),i=Number(this.clientWidth),r=Number(this.paddingLeft),a=(this.letterSpacing.slice(0,-2),parseInt(this.fontSize.slice(0,-2))),s=Number(this.textWidth)+r+n,A=this.H/2;if(0===this.value.length)return this._createParticle(n+r,A),void this._startAnimation();var o=n+r+i-parseInt(a/2),c=s>o;this._createParticle(c?o:s,A,t),this._startAnimation()},_getWidth:function(t){var e=document.createElement("span");e.innerHTML=t,e.style.cssText=this.inputStyle,this.$refs.inputBox.appendChild(e),this.textWidth=e.offsetWidth,this.$refs.inputBox.removeChild(e)},_createParticle:function(t,e,n){for(var i=0;i<this.num;i++){var r=Math.random()>.5?t+Math.random()*this.H:t-Math.random()*this.H,a=Math.random()*this.H;t=parseInt(t),e=parseInt(e),r=parseInt(r),a=parseInt(a),this.particle.push({x:n?r:t,y:n?a:e,aimX:n?t:r,aimY:n?e:a,dir:this._dir(t,e,r,a),alpha:Math.random(),comple:!1,mergeAndSpread:n})}},_dir:function(t,e,n,i){return n>=t&&i>=e?"+-":n>=t&&i<=e?"++":n<=t&&i>=e?"--":n<=t&&i<=e?"-+":void 0},_startAnimation:function(){0!==this.particle.length?(this.$refs.input!==document.activeElement&&(this.$refs.canvas.style.zIndex="11"),this._canvasAnimation(),this._drawParticle(),requestAnimationFrame(this._startAnimation)):this.$refs.input!==document.activeElement&&(this.$refs.canvas.style.zIndex="9")},_canvasAnimation:function(){for(var t=0,e=this.particle.length;t<e;t++){var n=this.particle[t];if(!n)return;if(n.comple)return this.particle.splice(t,1),void t--;n.mergeAndSpread?this._merge(n):this._spread(n)}},_merge:function(t){("+-"===t.dir||"++"===t.dir)&&t.x>t.aimX&&(t.x-=1),("--"===t.dir||"-+"===t.dir)&&t.x<t.aimX&&(t.x+=1),("+-"===t.dir||"--"===t.dir)&&t.y>t.aimY&&(t.y-=1),("++"===t.dir||"-+"===t.dir)&&t.y<t.aimY&&(t.y+=1),t.x===t.aimX&&t.y===t.aimY&&(t.comple=!0)},_spread:function(t){("+-"===t.dir||"++"===t.dir)&&t.aimX>t.x&&(t.x+=.5),("--"===t.dir||"-+"===t.dir)&&t.aimX<t.x&&(t.x-=.5),("+-"===t.dir||"--"===t.dir)&&t.aimY>t.y&&(t.y+=.5),("++"===t.dir||"-+"===t.dir)&&t.aimY<t.y&&(t.y-=.5),"+-"===t.dir&&t.x>=t.aimX&&t.y>=t.aimY?t.comple=!0:"++"===t.dir&&t.x>=t.aimX&&t.y<=t.aimY?t.comple=!0:"--"===t.dir&&t.x<=t.aimX&&t.y>=t.aimY?t.comple=!0:"-+"===t.dir&&t.x<=t.aimX&&t.y<=t.aimY&&(t.comple=!0)},_drawParticle:function(){this._ctx.clearRect(0,0,this.W,this.H);for(var t=0,e=this.particle.length;t<e;t++){this._ctx.fillStyle=this._ctx.strokeStyle=this.color[Math.floor(this.color.length*Math.random())];var n=this.particle[t],i=this.size;switch(this._ctx.globalAlpha=n.alpha,this._ctx.beginPath(),this.type){case"arc":this._ctx.arc(n.x,n.y,i,0,2*Math.PI);break;case"rect":this._ctx.rect(n.x,n.y,i,i);break;case"square":var r=n.dir;"bottom"===this.dir?(this._ctx.moveTo(n.x,n.y),this._ctx.lineTo(r?n.x+i:n.x-i,n.y),this._ctx.lineTo(r?n.x+i:n.x-i,n.y-i/2)):(this._ctx.moveTo(n.x,r?n.y:n.y+Math.random()*i),this._ctx.lineTo(r?n.x+i:n.x-i,n.y+i/2),this._ctx.lineTo(r?n.x+i:n.x-i,n.y-i/2));break;case"icon":var a=new Image;a.src=this.drawImg.length?this.drawImg[Math.floor(this.drawImg.length*Math.random())]:this.img,this._ctx.drawImage(a,n.x,n.y,this.size,this.size);break;default:this._ctx.arc(n.x,n.y,5,0,2*Math.PI)}"icon"!==this.type&&("fill"===this.styleType?this._ctx.fill():"stroke"===this.styleType&&(this._ctx.closePath(),this._ctx.stroke()))}},_initData:function(){this.input=this.$refs.input,this.fontStyle=getComputedStyle(this.input);var t=this.fontStyle;this.fontSize=t.fontSize,this.letterSpacing=t.letterSpacing,this.paddingLeft=t.paddingLeft.slice(0,-2),this.clientWidth=this.W-2*this.padding-2*this.paddingLeft,this._ctx=this.$refs.canvas.getContext("2d")},_focus:function(t){this.$refs.canvas.style.zIndex="11",this.$emit("focus",t)},_blur:function(t){this.$emit("blur",t),0===this.particle.length&&(this.$refs.canvas.style.zIndex="9")},_change:function(t){this.$emit("change",t,this.value)},_input:function(t){return this.$emit("input",t.target.value),!1}}}},function(t,e,n){"use strict";function i(t){t.component("vucInput",r.a)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"install",function(){return i});var r=n(2);n.d(e,"vucInput",function(){return r.a}),"undefined"!=typeof window&&window.Vue&&window.Vue.use(i),e.default=i},function(t,e,n){"use strict";function i(t){n(3)}var r=n(0),a=n(10),s=n(8),A=i,o=s(r.a,a.a,!1,A,"data-v-0963f2b5",null);e.a=o.exports},function(t,e,n){var i=n(4);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(6)("228a51e3",i,!0,{})},function(t,e,n){e=t.exports=n(5)(!1),e.push([t.i,"input[data-v-0963f2b5]{outline:none;display:block;padding:0 10px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:5px;z-index:10;white-space:pre}input[data-v-0963f2b5]::-ms-clear{display:none}.canvas-input[data-v-0963f2b5]{display:-webkit-box;display:-ms-flexbox;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.canvas-input span[data-v-0963f2b5]{white-space:pre}.input-box[data-v-0963f2b5]{z-index:10}.canvas[data-v-0963f2b5]{position:absolute;cursor:auto}",""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=u[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(a(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var s=[],r=0;r<n.parts.length;r++)s.push(a(n.parts[r]));u[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function a(t){var e,n,i=document.querySelector("style["+x+'~="'+t.id+'"]');if(i){if(f)return h;i.parentNode.removeChild(i)}if(v){var a=p++;i=l||(l=r()),e=s.bind(null,i,a,!1),n=s.bind(null,i,a,!0)}else i=r(),e=A.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function s(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=g(e,r);else{var a=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(a,s[e]):t.appendChild(a)}}function A(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),m.ssrId&&t.setAttribute(x,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(7),u={},d=o&&(document.head||document.getElementsByTagName("head")[0]),l=null,p=0,f=!1,h=function(){},m=null,x="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){f=n,m=r||{};var a=c(t,e);return i(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r],A=u[s.id];A.refs--,n.push(A)}e?(a=c(t,e),i(a)):a=[];for(var r=0;r<n.length;r++){var A=n[r];if(0===A.refs){for(var o=0;o<A.parts.length;o++)A.parts[o]();delete u[A.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],s=a[0],A=a[1],o=a[2],c=a[3],u={id:t+":"+r,css:A,media:o,sourceMap:c};i[s]?i[s].parts.push(u):n.push(i[s]={id:s,parts:[u]})}return n}},function(t,e){t.exports=function(t,e,n,i,r,a){var s,A=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(s=t,A=t.default);var c="function"==typeof A?A.options:A;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=i),u){var d=c.functional,l=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),l(t,e)}):c.beforeCreate=l?[].concat(l,u):[u]}return{esModule:s,exports:A,options:c}}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAWCAMAAAACYceEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAOpQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxuEsSQAAAE10Uk5TAHbveR35+iKXmhz4IJMY9h8NMleytVgzDkCcwefoQgn3CwTX2gUe2+Ej1d8hF9PZFtEaLzRPUnt+pqnS/J86nfsHJP6sKSeqKOa5tw9uvWCuAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAASAAAAEgARslrPgAAAMBJREFUKM9t0dUagkAQBeC1EDFQbBALMbC7FcXWef/XkRBhdc/V2flvZr9ByInH60PE+ANABYlCA0CIBExYFypCkCgYof8hxppCxfFxgkumwEo6k819pnleKAAeUeCLCJVYIKVcQVWJKDUZoXqDAM2WuZXyB+2OtUO39wN9xl56MMRAGjn/GWMycf10isnMJXNMFi5ZYrJyyRoTxQHZOA1stru9ahT18JWj/tROZ71drpreb84R7vCwV+WeIL6M8gbiZVFNcEJn4gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMS0yMlQyMjoyNjo1NyswODowML6Q1xAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTEtMjJUMjI6MjY6NTcrMDg6MDDPzW+sAAAAR3RFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl9nZGx5cjQwYzdjdi9zdGFyLnN2Z+am9GcAAAAASUVORK5CYII="},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"inputBox",staticClass:"canvas-input",style:"height:"+t.H+"px;width:"+t.W+"px;padding:"+t.padding+"px",on:{mousedown:t._checkFocus}},[n("canvas",{ref:"canvas",staticClass:"canvas",attrs:{height:t.H,width:t.W},on:{click:t._checkFocus}}),t._v(" "),n("div",{staticClass:"input-box"},[n("input",{ref:"input",class:t.className,style:"height:"+t.paddingH+"px;width:"+t.paddingW+"px;"+t.inputStyle,attrs:{type:"text",autofocus:t.autofocus?"autofocus":null,placeholder:t.helpText,disabled:t.disabled?"disabled":null},domProps:{value:t.value},on:{change:t._change,focus:t._focus,blur:t._blur,input:t._input}})])])},r=[],a={render:i,staticRenderFns:r};e.a=a}])});
//# sourceMappingURL=vuc-input.js.map